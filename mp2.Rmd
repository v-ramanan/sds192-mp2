---
title: "Mini Project 2"
author: "Vatsala, Emma, Margaret"
date: "3/8/2019"
output: html_document
---

```{r}
library(tidyverse)
```

```{r}
load("house_elections.rda")
load("candidates.rda")
load("committees.rda")
load("contributions.rda")
```


joining house elections and committees data frames by their common variable, the states and naming the new data frame

```{r}
join_df <- house_elections %>%
              left_join(committees, by=c("state"= "cmte_state"))
join_df
```

creating a new data frame that selects only the variable we want and filtering by new york, texas, and florida

note that we keep all three columns of voting because they all matter. 

```{r}
fec_df<- join_df %>%
<<<<<<< HEAD
      select(state, candidate_name, party, primary_votes, ge_winner, incumbent, cmte_name) %>%
      filter(transaction_amt > 0, state== c("NY", "TX", "FL"))

=======
      select(state, candidate_name, party, primary_votes,runoff_votes, general_votes, incumbent, cmte_name)%>%
   filter(state== c("NY", "TX", "FL"))
>>>>>>> e41b0feac849af915ac08fe02a60652a9fbb7938
fec_df
```

making a data frame from contributions that only contains negative contributions and filtering for ny, tx, and fl
```{r}
cont_neg <- contributions %>%
  select(name,transaction_amt, state)%>%
  filter(transaction_amt < 0, state== c("NY", "TX", "FL"))
cont_neg
```
 doing the same as above but for positive contributions
```{r}
cont_pos <- contributions %>%
  select(name,transaction_amt, state)%>%
  filter(transaction_amt > 0, state== c("NY", "TX", "FL"))
cont_pos
```
joining the negative contributions to the data set from before that contained housing elections and committees.  
```{r}
cont_neg_join <- fec_df %>%
    left_join(cont_neg, by = c("cmte_name" = "name"))%>%
  filter(!is.na(transaction_amt))

cont_neg_join
```
make another data frame like above but for positive contributions
```{r}
cont_pos_join <- fec_df %>%
  left_join(cont_pos, by = c("cmte_name" = "name"))%>%
    filter(!is.na(transaction_amt))
cont_pos_join
```


